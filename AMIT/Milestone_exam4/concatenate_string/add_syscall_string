
=>  wget -P  ~/Downloads/ http://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.9.2.tar.xz

=>  sudo tar -xvf linux-6.9.2.tar  -C /usr/src/
=>  cd /usr/src/linux-6.9.2
=>  mkdir string
=>  sudo mkdir string
=>  sudo gedit  string/conc_string.c
 
 ""conc_string.c => 
 
        
#include <linux/kernel.h>
#include <linux/module.h>
#include <linux/syscalls.h>
#include <linux/uaccess.h>

SYSCALL_DEFINE3(concat_strings, const char __user *, str1, const char __user *, str2, char __user *, result) {
    char kernelConcatenatedResult[200];
    int len1, len2;

    // Copy input strings from user space to kernel space
    len1 = strncpy_from_user(kernelConcatenatedResult, str1, sizeof(kernelConcatenatedResult));
    len2 = strncpy_from_user(kernelConcatenatedResult + len1, str2, sizeof(kernelConcatenatedResult) - len1);

    // Null-terminate the concatenated result
    kernelConcatenatedResult[len1 + len2] = '\0';

    // Copy the concatenated result back to user space
    if (copy_to_user(result, kernelConcatenatedResult, len1 + len2 + 1) != 0)
        return -EFAULT;

    return 0;
}


 ""
 
=>  sudo gedit  string/Makefile
 
 ""Makefilev =>
             
             obj-y := conc_string.o
             
 "" 
      
=>  sudo gedit include/linux/syscalls.h
 
 "" syscalls.h =>
 
          asmlinkage long sys_concatenate(void);
          
  ""        
 
=>  sudo gedit arch/x86/entry/syscalls/syscall_64.tbl
 
 "" syscall_64.tbl => 
                  index_no     common  dir_name     sys_call_name
                    440        common  string       sys_concatenate
                 
 ""
 =>  sudo gedit Makefile
 
"" Makefile =>
                   
                ifeq ($(KBUILD_EXTMOD),)
                "edit this line  core-y:=  put your custom folder name "
                core-y		:= string/
                
                drivers-y	:=
                libs-y		:= lib/
                endif # KBUILD_EXTMOD
                
 ""
=>  sudo make menuconfig
=>  sudo scripts/config --disable SYSTEM_REVOCATION_KEYS 
=>  sudo scripts/config --disable SYSTEM_TRUSTED_KEYS 
=>  sudo make -j4
=>  sudo make modules_install install -j4
=>  sudo update-initramfs -c -k 6.9.2
=>  sudo update-grub
=>  uname -r
=>  sudo reboot
=>  uname -r

User Code:
#include <stdio.h>
#include <string.h>
#include <sys/syscall.h>
#include <unistd.h>

#define CONCAT_STRINGS_SYSCALL 440 // Use the assigned system call number

int main() {
    char inputString1[100];
    char inputString2[100];
    char concatenatedResult[200];

    // Get input strings from the user
    printf("Enter Input String 1: ");
    scanf("%s", inputString1);

    printf("Enter Input String 2: ");
    scanf("%s", inputString2);

    // Call the kernel-space system call for string concatenation
    syscall(CONCAT_STRINGS_SYSCALL, inputString1, inputString2, concatenatedResult);

    // Print the concatenated result
    printf("Concatenated Result: %s\n", concatenatedResult);

    return 0;
}



